# Medical Statistics Dashboard

## Overview

This is a full-stack medical statistics application built with Express.js, React, and PostgreSQL. The system manages medical examination records and provides statistical insights for healthcare professionals. It features a medical dashboard where users can view examination records by date, see patient information, and track examination statistics including total patients, completed exams, and follow-up appointments.

The application uses Vietnamese language elements in the database schema and UI, suggesting it's designed for Vietnamese healthcare facilities. It provides functionality to view examination records with patient details, doctor information, diagnosis, and appointment scheduling.

## User Preferences

Preferred communication style: Simple, everyday language.

## System Architecture

### Frontend Architecture
- **React with TypeScript**: Single-page application built with React 18 and TypeScript for type safety
- **Vite Build System**: Fast development server and optimized production builds
- **UI Framework**: Shadcn/ui components built on Radix UI primitives with Tailwind CSS styling
- **State Management**: React Query (TanStack Query) for server state management and caching
- **Routing**: Wouter for lightweight client-side routing
- **Styling**: Tailwind CSS with CSS variables for theming support
- **Form Handling**: React Hook Form with Zod validation resolvers

### Backend Architecture
- **Express.js Server**: RESTful API server with TypeScript
- **In-Memory Storage**: Currently uses in-memory data storage with sample data initialization
- **API Design**: RESTful endpoints for examination records and statistics
- **Error Handling**: Centralized error handling middleware with proper HTTP status codes
- **Request Logging**: Custom middleware for API request logging with response details

### Data Layer
- **Drizzle ORM**: Type-safe database toolkit configured for PostgreSQL
- **Database Schema**: PostgreSQL schema with two main tables:
  - `benhnhan` (patients): Patient information including name, birth date, and weight
  - `khambenh` (examinations): Examination records with patient relationships, doctor info, symptoms, diagnosis, and follow-up dates
- **Database Migrations**: Drizzle Kit for schema migrations and database management
- **Data Validation**: Zod schemas for runtime type validation and API input validation

### Key Features
- **Date-Based Filtering**: View examination records by specific date
- **Statistical Dashboard**: Real-time statistics showing patient counts, completed exams, and follow-up appointments
- **Patient Management**: Comprehensive patient information display with age calculation
- **Examination Tracking**: Track examination status, diagnosis, prescription duration, and follow-up scheduling
- **Responsive Design**: Mobile-first responsive UI with adaptive layouts

### External Dependencies

- **Neon Database**: Serverless PostgreSQL database provider (@neondatabase/serverless)
- **UI Components**: Extensive Radix UI component library for accessible UI primitives
- **Date Handling**: date-fns library for date formatting and manipulation with Vietnamese locale support
- **Icons**: Lucide React for consistent iconography
- **Styling Utilities**: clsx and tailwind-merge for conditional styling
- **Development Tools**: 
  - Replit integration for development environment
  - ESBuild for production server bundling
  - PostCSS with Tailwind CSS processing

The application is structured as a monorepo with separate client and server directories, shared type definitions, and a common database schema. The current implementation uses in-memory storage with sample medical examination data for 8 patients across multiple days. The system is ready to switch to Supabase PostgreSQL database when the correct database password is provided.

## Recent Changes (August 2025)
- ✓ Successfully integrated Supabase JavaScript client for real database connection
- ✓ Fixed API routes to use path parameters instead of query parameters (/api/examinations/:date)
- ✓ Connected to live Supabase database with real medical examination data
- ✓ Verified data integrity: displaying actual patient records from Vietnamese pediatric clinic
- ✓ Application now shows real examination records for date 2025-08-16 (3 patients)
- ✓ Statistics correctly calculated from live database (3 total patients, 3 follow-up appointments)