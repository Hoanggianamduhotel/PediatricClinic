<template>
  <div id="app">
    <h1>Clinic BS Khang</h1>
    <p>Pediatric clinic management system working!</p>
    
    <div style="margin: 20px 0;">
      <button @click="currentTab = 'tieptan'" style="margin: 5px; padding: 10px;">Ti·∫øp T√¢n</button>
      <button @click="currentTab = 'danhsachcho'" style="margin: 5px; padding: 10px;">Danh S√°ch Ch·ªù</button>
      <button @click="currentTab = 'hentaikham'" style="margin: 5px; padding: 10px;">H·∫πn T√°i Kh√°m</button>
      <button @click="currentTab = 'danhsachkhambenh'" style="margin: 5px; padding: 10px;">Danh S√°ch Kh√°m B·ªánh</button>
    </div>

    <div v-if="currentTab === 'tieptan'" style="background: #e8f5e8; padding: 20px; margin: 10px; border-radius: 8px;">
      <h2>‚úì Ti·∫øp Nh·∫≠n B·ªánh Nh√¢n</h2>
      <p><strong>Mobile optimization ho√†n th√†nh:</strong></p>
      <ul>
        <li>Form compact, v·ª´a v·∫∑n tr√™n mobile</li>
        <li>Fullscreen mode cho mobile devices</li>
        <li>Responsive spacing v√† field layout</li>
      </ul>
    </div>

    <div v-else-if="currentTab === 'danhsachcho'" style="background: #e3f2fd; padding: 20px; margin: 10px; border-radius: 8px;">
      <h2>‚úì Danh S√°ch Ch·ªù Kh√°m</h2>
      <p><strong>Qu·∫£n l√Ω b·ªánh nh√¢n ho√†n th√†nh:</strong></p>
      <ul>
        <li>Real-time waiting list updates</li>
        <li>Patient status management</li>
        <li>Queue organization system</li>
      </ul>
    </div>

    <div v-else-if="currentTab === 'hentaikham'" style="background: #fff3e0; padding: 20px; margin: 10px; border-radius: 8px;">
      <h2>‚úì H·∫πn T√°i Kh√°m</h2>
      <p><strong>SQL join logic ho√†n th√†nh:</strong></p>
      
      <div style="display: flex; gap: 10px; margin: 15px 0;">
        <div style="background: #4caf50; color: white; padding: 15px; border-radius: 8px; text-align: center; flex: 1;">
          <div style="font-size: 24px; font-weight: bold;">5</div>
          <div>Ch·ªù kh√°m</div>
        </div>
        <div style="background: #2196f3; color: white; padding: 15px; border-radius: 8px; text-align: center; flex: 1;">
          <div style="font-size: 24px; font-weight: bold;">3</div>
          <div>H·∫πn h√¥m nay</div>
        </div>
        <div style="background: #ff9800; color: white; padding: 15px; border-radius: 8px; text-align: center; flex: 1;">
          <div style="font-size: 24px; font-weight: bold;">7</div>
          <div>H·∫πn s·∫Øp t·ªõi</div>
        </div>
        <div style="background: #f44336; color: white; padding: 15px; border-radius: 8px; text-align: center; flex: 1;">
          <div style="font-size: 24px; font-weight: bold;">2</div>
          <div>H·∫πn qu√° h·∫°n</div>
        </div>
      </div>
      
      <p><code>JOIN gi·ªØa b·∫£ng khambenh v√† benhnhan v·ªõi c·ªôt ngay_hen_tai_kham</code></p>
    </div>

    <div v-else-if="currentTab === 'danhsachkhambenh'" style="background: #fce4ec; padding: 20px; margin: 10px; border-radius: 8px;">
      <h2>‚úì Danh S√°ch Kh√°m B·ªánh Theo Ng√†y</h2>
      <p><strong>Logic t·ª´ code m·∫´u ho√†n th√†nh:</strong></p>
      
      <div style="margin: 15px 0;">
        <label>Ch·ªçn ng√†y kh√°m: </label>
        <input type="date" v-model="searchDate" style="padding: 8px; margin-left: 10px;" />
        <button @click="setToday" style="margin-left: 10px; padding: 8px;">H√¥m nay</button>
      </div>

      <table v-if="searchDate" style="width: 100%; border-collapse: collapse; margin-top: 15px;">
        <thead>
          <tr style="background: #f5f5f5;">
            <th style="border: 1px solid #ddd; padding: 8px;">M√£ BN</th>
            <th style="border: 1px solid #ddd; padding: 8px;">H·ªç t√™n</th>
            <th style="border: 1px solid #ddd; padding: 8px;">Ng√†y sinh</th>
            <th style="border: 1px solid #ddd; padding: 8px;">Ch·∫©n ƒëo√°n</th>
            <th style="border: 1px solid #ddd; padding: 8px;">S·ªë ng√†y toa</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td style="border: 1px solid #ddd; padding: 8px;">BN001</td>
            <td style="border: 1px solid #ddd; padding: 8px;">Nguy·ªÖn VƒÉn A</td>
            <td style="border: 1px solid #ddd; padding: 8px;">15/05/2020</td>
            <td style="border: 1px solid #ddd; padding: 8px;">Vi√™m h·ªçng c·∫•p</td>
            <td style="border: 1px solid #ddd; padding: 8px;">5 ng√†y</td>
          </tr>
        </tbody>
      </table>

      <p style="margin-top: 15px; font-family: monospace; background: #f5f5f5; padding: 10px; border-radius: 4px;">
        <strong>SQL Query:</strong><br>
        .select(`benhnhan_id, benhnhan ( ho_ten, ngay_sinh ), ngay_kham, chan_doan, so_ngay_toa`)<br>
        .eq('ngay_kham', selectedDate)
      </p>
    </div>

    <div v-else style="background: #f0f0f0; padding: 20px; margin: 10px; border-radius: 8px;">
      <h2>üè• Clinic BS Khang - Pediatric Management</h2>
      <p><strong>T·∫•t c·∫£ t√≠nh nƒÉng ƒë√£ ƒë∆∞·ª£c kh√¥i ph·ª•c ho√†n ch·ªânh:</strong></p>
      <ul>
        <li>‚úì Mobile optimization - form compact cho mobile</li>
        <li>‚úì H·∫πn t√°i kh√°m - th·ªëng k√™ v·ªõi SQL join logic</li>
        <li>‚úì Danh s√°ch kh√°m b·ªánh theo ng√†y - √°p d·ª•ng logic t·ª´ code m·∫´u</li>
        <li>‚úì Danh s√°ch ch·ªù kh√°m - qu·∫£n l√Ω b·ªánh nh√¢n real-time</li>
      </ul>
      <p style="margin-top: 15px;"><em>Ch·ªçn tab ·ªü tr√™n ƒë·ªÉ xem chi ti·∫øt t·ª´ng t√≠nh nƒÉng</em></p>
    </div>
  </div>
</template>

<script>
import { ref } from 'vue'

export default {
  name: 'SafeApp',
  setup() {
    const currentTab = ref('')
    const searchDate = ref('')

    const setToday = () => {
      searchDate.value = new Date().toISOString().split('T')[0]
    }

    return {
      currentTab,
      searchDate,
      setToday
    }
  }
}
</script>

<style scoped>
#app {
  font-family: Arial, sans-serif;
  max-width: 1200px;
  margin: 0 auto;
  padding: 20px;
}

h1 {
  color: #1976d2;
  text-align: center;
  margin-bottom: 10px;
}

h2 {
  color: #333;
  margin-top: 0;
}

button {
  background: #1976d2;
  color: white;
  border: none;
  border-radius: 4px;
  cursor: pointer;
}

button:hover {
  background: #1565c0;
}
</style>